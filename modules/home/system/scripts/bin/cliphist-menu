#!/usr/bin/env bash

case $1 in
"d") # Delete mode
  cliphist list | rofi -dmenu -p "Delete" -theme-str 'window {width: 70%;}' | cliphist delete
  ;;
"p") # Pick mode
  if selected="$(cliphist list | rofi -dmenu -p "Clipboard" -theme-str 'window {width: 70%;}')"; then
    # Get the content type
    type=$(echo "$selected" | cliphist decode | file -b --mime-type -)

    case $type in
    image/*)
      # Resim içeriği
      echo "$selected" | cliphist decode | wl-copy --type image
      notify-send "Clipboard" "Resim kopyalandı"
      ;;
    text/*)
      # Metin içeriği
      echo "$selected" | cliphist decode | wl-copy --type text
      notify-send "Clipboard" "Metin kopyalandı"
      ;;
    *)
      # Diğer içerik tipleri
      echo "$selected" | cliphist decode | wl-copy
      notify-send "Clipboard" "İçerik kopyalandı: $type"
      ;;
    esac
  fi
  ;;
*)
  echo "Kullanım: $0 [d|p]"
  echo "d: Delete mode"
  echo "p: Pick mode"
  exit 1
  ;;
esac
