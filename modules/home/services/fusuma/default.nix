# modules/home/fusuma/default.nix
# ==============================================================================
# Fusuma Touchpad Gesture Configuration
# ==============================================================================
{ config, pkgs, lib, ... }:
{
 # =============================================================================
 # Service Configuration
 # =============================================================================
 services.fusuma = {
   enable = true;
   package = pkgs.fusuma;
   
   # =============================================================================
   # Required Packages
   # =============================================================================
   extraPackages = with pkgs; [
     coreutils
     wtype
     libinput
   ];
   # =============================================================================
   # Gesture Settings
   # =============================================================================
   settings = {
     # ---------------------------------------------------------------------------
     # Sensitivity Settings
     # ---------------------------------------------------------------------------
     threshold = {
       swipe = 0.7;
       pinch = 0.3;
     };
     # ---------------------------------------------------------------------------
     # Timing Settings
     # ---------------------------------------------------------------------------
     interval = {
       swipe = 0.6;
       pinch = 1.0;
     };
     # ---------------------------------------------------------------------------
     # Gesture Mappings
     # ---------------------------------------------------------------------------
     swipe = {
       "3" = {
         right = {
           command = "wtype -M ctrl -k TAB";
           threshold = 0.6;
         };
         left = {
           command = "wtype -M ctrl -M shift -k TAB";
           threshold = 0.6;
         };
       };
     };
   };
 };
}
